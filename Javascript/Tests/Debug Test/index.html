<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8"/>

<html>
<head>
  <script data-main="test" src="../../require.js"></script>
</head>

<title>ECS Debugging Test</title>

<style>
  table, th, td{
    border : 1px solid black
  }
  canvas{
    width : 100%;
    height : 100%;
    display : block;
    overflow : hidden;
    background-color: black;
  }
</style>

<body id="body">
  <div class="wrapper" style="width: 100%">
    <div id="leftSide" style="float:left; width:100%;">
      <canvas id="canvas" tabindex='1'/>
    </div>
    <div id="debugMenu" style="display:none; padding:5px; position:fixed; z-index: 2; top:0; right:0; height:100%; overflow:auto; background:#aaaa">
      <button type="button" id="updateButton">Update</button>
      <input type="checkbox" checked="false" id="autoUpdateCheckbox">Auto Update
      <div id="autoUpdate" style="display:none">
        <label for="autoUpdateInterval">Update Every</label> <input type="number" id='autoUpdateInterval' placeholder="10000" value="10000"> milliseconds<br>
      </div>
      <button id="sideButton">Switch Sides</button><br>
      <div id="debugContent"">
        <table style="width:100%">
          <tr>
            <th>Dispatch Event</th>
            <th><input type="text" style="width:100%" placeholder="Enter event to dispatch" id="eventDispatcher"></th>
          </tr>
            <th>Add Entity</th>
            <th><input type="text" style="width:100%" placeholder="Enter the name of a registered entity" id="entityAdder"></th>
        </table>
        <label for="system_select">Select System</label>
        <select id="system_select" autocomplete="off" style="width:100%"></select><br>
        <div id="system_enabler_div"></div><br>
        <label for="entity_select">Select Entity</label>
        <select id="entity_select" autocomplete="off" style="width:100%"></select>
        <div id="entityContent"></div>
      </div>
    </div>
    <script>
      autoUpdateCheckbox.addEventListener("click", function(evt)
      {
        var checkbox = evt.srcElement;
        var d = document.getElementById("autoUpdate");
        d.style.display = checkbox.checked ? "block" : "none";
      });
      window.addEventListener("keyup", function(args)
      {
        if(args.key == "F1")
        {
          debugMenu.style.display = debugMenu.style.display == "none" ? "block" : "none";
        }
      });
  </script>
</body>
</html>
