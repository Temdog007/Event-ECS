<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8"/>

<html>
<head>
  <script data-main="test" src="../../require.js"></script>
</head>

<title>ECS Debugging Test</title>

<style>
  table, th, td{
    border : 1px solid black
  }
  canvas{
    width : 100%;
    height : 100%;
    display : block;
    overflow : hidden;
    background-color: black;
  }
</style>

<body id="body">
  <div class="wrapper" style="width: 100%">
    <div id="leftSide" style="float:left; width:100%;">
      <canvas id="canvas" tabindex='1'/>
    </div>
    <div id="rightSide" style="float:right; width:0%; display:none">
      <div id="space" style="float:left; width:5%;"></div>
      <div style="float:right; width:95%;">
        <div>
          <button type="button" id="updateButton">Update</button>
          <button type="button" id="refreshButton">Clear</button>
        </div>
        <input type="checkbox" checked="false" id="autoUpdateCheckbox">Auto Update</input><br>
        <div id="autoUpdate" style="display:none">
          Update Every <input type="number" id='autoUpdateInterval' placeholder="1000" value="1000"> milliseconds<br>
        </div>
        <div id="debugContent" style="background-color:#dddd; margin:px">
          <h2>Systems</h2>
          Dispatch Event <input type="text" size="50" placeholder="Enter event to dispatch" id="eventDispatcher"><br>
          <div id="systemsContent" style="display:inlne-grid; grid-gap:10px;">
          </div>
          <h2>Entities</h2>
          <div id="entitiesContent">
          </div>
        </div>
      </div>
    </div>
    <script>
      autoUpdateCheckbox.addEventListener("click", function(evt)
      {
        var checkbox = evt.srcElement;
        var d = document.getElementById("autoUpdate");
        d.style.display = checkbox.checked ? "block" : "none";
      });
      refreshButton.addEventListener("click", function(evt)
      {
        while(systemsContent.hasChildNodes())
        {
          systemsContent.removeChild(systemsContent.lastChild);
        }
        while(entitiesContent.hasChildNodes())
        {
          entitiesContent.removeChild(entitiesContent.lastChild);
        }
      });
      window.addEventListener("keyup", function(args)
      {
        if(args.key == "F1")
        {
          if(rightSide.style.width == "0%")
          {
            leftSide.style.width = "75%";
            rightSide.style.width = "25%";
            rightSide.style.display = "block";
          }
          else
          {
            leftSide.style.width = "100%";
            rightSide.style.width = "0%";
            rightSide.style.display = "none";
          }
        }
      });
    </script>
  </div>
</body>
</html>
