<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8"/>

<html>
<head>
  <link rel="stylesheet", href="game.css"/>
  <img id="testimage" style="display:none" src="https://www.html-5-tutorial.com/images/atitlan.jpg"/>
  <script src="../ecsevent.js"></script>
  <script src="../ecsobject.js"></script>
  <script src="../component.js"></script>
  <script src="../entity.js"></script>
  <script src="../system.js"></script>
  <script src="../systemList.js"></script>
  <script src="../Default Components/Interfaces/drawableComponent.js"></script>
  <script src="../Default Components/Interfaces/coroutineScheduler.js"></script>
  <script src="../Default Components/Interfaces/graphableComponent.js"></script>
  <script src="../Default Components/Drawing/imageDrawerComponent.js"></script>
  <script src="../Default Components/Test/logTestComponent.js"></script>
  <script src="../Default Components/Test/eventTesterComponent.js"></script>
  <script src="../Default Components/Test/coroutineTesterComponent.js"></script>
  <script src="../Default Components/Test/fpsGraphComponent.js"></script>
  <script src="../Default Components/Test/fpsDisplayerComponent.js"></script>
</head>

<title>ECS Game Test</title>

<body>
  <canvas id="canvas" tabindex='1' width = 800 height = 600 />
  <script src="game.js"></script>
  <script>
    class RectangleComponent extends DrawableComponent
    {
      doDraw(args)
      {
        context.fillStyle = "blue";
        context.fillRect(0,0,100,100);
      }
    }

    var system = Systems.addSystem(new System("Test"));
    system.registerEntity("Test1", [RectangleComponent, EventTesterComponent]);
    system.registerEntity("Test2", [LogTestComponent]);
    system.registerEntity("Test3", [FpsGraphComponent]);
    system.registerEntity("Test4", [FpsDisplayerComponent]);
    system.registerEntity("Test5", [ImageDrawerComponent]);
    system.registerEntity("Test6", [CoroutineTesterComponent]);

    // var e1 = system.createEntity("Test2");
    // e1.set("drawOrder", -1);
    // e1.set("width", 200);
    // e1.set('x', 0);
    // e1.set('y', 0);

    // var e2 = system.createEntity("Test5");
    // e2.set("drawable", document.getElementById("testimage"));

    // var e3 = system.createEntity("Test2");
    // e3.set("drawOrder", -1);
    // e3.set("width", 200);
    // e3.set("y", 400);
    // e3.set('color', 'blue');

    var e = system.createEntity("Test3");
    e.set("drawOrder", 0);
    e.set("lineColor", "orange");

    addDrawOrder(-1);
  </script>
</body>
</html>
